# Test generated by RoostGPT for test credential-wallet-api-akshat using AI Type Vertex AI and AI Model code-bison-32k


# RoostTestHash=63322ffb26

config:
  target: {{ $processEnvironment.API_HOST }}
  expect: true
  securitySchemes:
    ApiKeyAuth:
      type: apiKey
      name: Token
      in: header
scenarios:
  - flow:
      - method: post
        target: /recipients/branches
        payload:
          cocNumber: {{ $csvData.cocNumber }}
          cocBranchNumber: {{ $csvData.cocBranchNumber }}
          city: {{ $csvData.city }}
          tradeName: {{ $csvData.tradeName }}
          phone: {{ $csvData.phone }}
          email: {{ $csvData.email }}
        log: Requesting branch creation with provided details
        headers:
          Token: {{$processEnvironment.AUTH_TOKEN}}
        expect:
          statusCode: 400
          hasHeader: api-version
          headerEquals: api-version: 1.0.0
          contentType: application/json
          hasProperty: error
          equals: error: validation/cocNumber-pattern
          hasProperty: description
          equals: description: The provided cocNumber is invalid
      - method: post
        target: /recipients/branches
        payload:
          cocNumber: {{ $csvData.cocNumber }}
          cocBranchNumber: {{ $csvData.cocBranchNumber }}
          city: {{ $csvData.city }}
          tradeName: {{ $csvData.tradeName }}
          phone: {{ $csvData.phone }}
          email: {{ $csvData.email }}
        log: Requesting branch creation with provided details
        headers:
          Token: {{$processEnvironment.AUTH_TOKEN}}
        expect:
          statusCode: 400
          hasHeader: api-version
          headerEquals: api-version: 1.0.0
          contentType: application/json
          hasProperty: error
          equals: error: validation/cocBranchNumber-pattern
          hasProperty: description
          equals: description: The provided cocBranchNumber is invalid
      - method: post
        target: /recipients/branches
        payload:
          cocNumber: {{ $csvData.cocNumber }}
          cocBranchNumber: {{ $csvData.cocBranchNumber }}
          city: {{ $csvData.city }}
          tradeName: {{ $csvData.tradeName }}
          phone: {{ $csvData.phone }}
          email: {{ $csvData.email }}
        log: Requesting branch creation with provided details
        headers:
          Token: {{$processEnvironment.AUTH_TOKEN}}
        expect:
          statusCode: 400
          hasHeader: api-version
          headerEquals: api-version: 1.0.0
          contentType: application/json
          hasProperty: error
          equals: error: validation/city-pattern
          hasProperty: description
          equals: description: The provided city is invalid
      - method: post
        target: /recipients/branches
        payload:
          cocNumber: {{ $csvData.cocNumber }}
          cocBranchNumber: {{ $csvData.cocBranchNumber }}
          city: {{ $csvData.city }}
          tradeName: {{ $csvData.tradeName }}
          phone: {{ $csvData.phone }}
          email: {{ $csvData.email }}
        log: Requesting branch creation with provided details
        headers:
          Token: {{$processEnvironment.AUTH_TOKEN}}
        expect:
          statusCode: 400
          hasHeader: api-version
          headerEquals: api-version: 1.0.0
          contentType: application/json
          hasProperty: error
          equals: error: validation/email-pattern
          hasProperty: description
          equals: description: The provided email is invalid
      - method: post
        target: /recipients/branches
        payload:
          cocNumber: {{ $csvData.cocNumber }}
          cocBranchNumber: {{ $csvData.cocBranchNumber }}
          city: {{ $csvData.city }}
          tradeName: {{ $csvData.tradeName }}
          phone: {{ $csvData.phone }}
          email: {{ $csvData.email }}
        log: Requesting branch creation with provided details
        expect:
          statusCode: 401
          hasHeader: api-version
          headerEquals: api-version: 1.0.0
          contentType: application/json
          hasProperty: error
          equals: error: authentication/required
          hasProperty: description
          equals: description: Authentication is required to access this endpoint
      - method: post
        target: /recipients/branches/invalid-url
        payload:
          cocNumber: {{ $csvData.cocNumber }}
          cocBranchNumber: {{ $csvData.cocBranchNumber }}
          city: {{ $csvData.city }}
          tradeName: {{ $csvData.tradeName }}
          phone: {{ $csvData.phone }}
          email: {{ $csvData.email }}
        log: Requesting branch creation with invalid URL
        headers:
          Token: {{$processEnvironment.AUTH_TOKEN}}
        expect:
          statusCode: 404
      - think: 1000
