# Test generated by RoostGPT for test go-test using AI Type Open AI and AI Model gpt-4

config:
  target: "{{ $processEnvironment.SERVER_URL }}"
  phases:
    - duration: 60
      arrivalRate: 20
scenarios:
  - name: "Successful API request"
    flow:
      - post:
          url: "/pet/findByTags"
          json:
            tags: ["pet"]
          headers:
            Content-Type: "application/json"
          capture:
            json: "$"
            as: "response"
      - think: 1
      - assert:
          - "statusCode === 200"
          - "response.body.name === 'doggie'"
          - "response.body.status === 'available'"

  - name: "API request with validation failure"
    flow:
      - post:
          url: "/pet/findByTags"
          json: {}
          headers:
            Content-Type: "application/json"
          capture:
            json: "$"
            as: "response"
      - think: 1
      - assert:
          - "statusCode === 400"
          - "response.body.error === 'Invalid tag value'"

  - name: "API request with edge case"
    flow:
      - post:
          url: "/pet/findByTags"
          json:
            tags: ["pet", "cat", "dog", "bird", "fish", "hamster", "turtle", "rabbit", "ferret", "guinea pig", "chinchilla", "gerbil", "mouse", "rat", "hedgehog", "sugar glider", "reptile", "amphibian", "arachnid", "insect", "mammal", "bird", "fish", "crustacean", "mollusk", "echinoderm", "cnidarian", "sponge", "flatworm", "roundworm", "segmented worm", "tunicate", "lancelet", "lamprey", "hagfish", "shark", "ray", "chimaera", "bony fish", "lobe-finned fish", "lungfish", "tetrapod", "amphibian", "reptile", "bird", "mammal", "marsupial", "placental mammal", "primate", "human"]
          headers:
            Content-Type: "application/json"
          capture:
            json: "$"
            as: "response"
      - think: 1
      - assert:
          - "statusCode >= 200 && statusCode < 300"
          - "response.body.name === 'doggie'"
          - "response.body.status === 'available'"
