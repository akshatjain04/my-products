# Test generated by RoostGPT for test credential-wallet-api-akshat using AI Type Vertex AI and AI Model code-bison-32k


# RoostTestHash=9e57a3b0dd

---
config:
  target: {{ $processEnvironment.API_HOST }}
  phases:
    - duration: 60
      arrivalRate: 10
  variables:
    payload:
      csv: apikeys_get_others.csv
      skipHeader: true
  expect:
    plugins:
      - name: expect
        config:
          threshold: 0.99
          expected:
            - http2: true
            - statusCode: 400
            - hasProperty: error
            - equals: description
            - pattern: ^Descriptive Error Message$
            - hasProperty: error
            - pattern: ^validation/.*$
            - hasProperty: field
            - hasProperty: value
            - hasProperty: schema_field
            - statusCode: 401
            - hasProperty: error
            - equals: description
            - pattern: ^Descriptive Error Message$
            - hasProperty: error
            - pattern: ^validation/.*$
            - hasProperty: field
            - hasProperty: value
            - hasProperty: schema_field
scenario:
  - get:
      log: "Sending GET request to list API keys with invalid authorization"
      url: /apikeys
      headers:
        Token: {{$processEnvironment.AUTH_TOKEN}}
      expect:
        - http2: true
        - statusCode: 401
        - hasProperty: error
        - equals: description
        - pattern: ^Descriptive Error Message$
        - hasProperty: error
        - pattern: ^validation/.*$
        - hasProperty: field
        - hasProperty: value
        - hasProperty: schema_field
  - get:
      log: "Sending GET request to list API keys with an invalid URL"
      url: /apikeys/invalid/url
      headers:
        Token: {{$processEnvironment.AUTH_TOKEN}}
      expect:
        - http2: true
        - statusCode: 404
  - get:
      log: "Sending GET request to list API keys without authorization"
      url: /apikeys
      expect:
        - http2: true
        - statusCode: 401
        - hasProperty: error
        - equals: description
        - pattern: ^Descriptive Error Message$
        - hasProperty: error
        - pattern: ^validation/.*$
        - hasProperty: field
        - hasProperty: value
        - hasProperty: schema_field
  - think: 500
