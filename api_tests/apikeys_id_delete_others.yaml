# Test generated by RoostGPT for test credential-wallet-api-akshat using AI Type Vertex AI and AI Model code-bison-32k


# RoostTestHash=4affc26394

---
title: Failure Scenario Test
config:
  target: {{ $processEnvironment.API_HOST }}
  expect: enabled
securitySchemes:
  ApiKeyAuth:
    type: 'apiKey'
    name: 'Token'
    in: 'header'
payload:
  csv: apikeys_id_delete_others.csv
  skipHeader: true
scenarios:
  - scenario: Non-Success API Responses
    flow:
      - get:
          description: Fetch API Keys with Invalid ID
          url: /apikeys/{{ uuid() }}
          expect:
            statusCode: 400
            contentType: application/json
            hasHeader: api-version
            headerEquals: api-version: 1.0.0
            hasProperty: description
            hasProperty: error
      - think: 500
      - post:
          description: Create API Key with Invalid Payload
          url: /apikeys
          payload:
            name: {{ payload.name }}
            description: {{ payload.description }}
          expect:
            statusCode: 400
            contentType: application/json
            hasHeader: api-version
            headerEquals: api-version: 1.0.0
            hasProperty: description
            hasProperty: error
      - think: 500
      - patch:
          description: Update API Key with Invalid Payload
          url: /apikeys/{{ payload.id }}
          payload:
            name: {{ payload.name }}
            description: {{ payload.description }}
          expect:
            statusCode: 400
            contentType: application/json
            hasHeader: api-version
            headerEquals: api-version: 1.0.0
            hasProperty: description
            hasProperty: error
      - think: 500
      - delete:
          description: Delete API Key with Invalid ID
          url: /apikeys/{{ uuid() }}
          expect:
            statusCode: 400
            contentType: application/json
            hasHeader: api-version
            headerEquals: api-version: 1.0.0
            hasProperty: description
            hasProperty: error
      - think: 500
      - get:
          description: Fetch API Keys with Invalid URL
          url: /apikeys/{{ string() }}
          expect:
            statusCode: 404
            contentType: application/json
            hasHeader: api-version
            headerEquals: api-version: 1.0.0
            hasProperty: description
            hasProperty: error
      - think: 500
