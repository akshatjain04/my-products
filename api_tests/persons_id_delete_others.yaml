# Test generated by RoostGPT for test credential-wallet-api-akshat using AI Type Vertex AI and AI Model code-bison-32k


# RoostTestHash=819791060f

---
config:
  target: {{ $processEnvironment.API_HOST }}
  expect: true
  csvPath: ./persons_id_delete_others.csv
  skipHeader: true
  security:
    ApiKeyAuth:
      token: {{$processEnvironment.AUTH_TOKEN}}

scenarios:
  - scenario: Failure test cases
    flow:
      - get:
          url: "/recipients/persons/{{ persons_id_delete_others.id }}"
          description: "GET /recipients/persons/{id} - Invalid Person ID"
          expect:
            statusCode: 400
            hasHeader: api-version
            headerEquals: api-version: 1.0.0
            contentType: application/json
            hasProperty: error
            notHasProperty: persons
            equals:
              error: validation/uuid-pattern
            matchesRegexp:
              description: ^UUID does not match the specified format.*$
      - post:
          url: "/recipients/persons"
          description: "POST /recipients/persons - Missing name field"
          headers:
            Token: {{$processEnvironment.AUTH_TOKEN}}
          payload:
            id: {{ persons_id_delete_others.id }}
          expect:
            statusCode: 400
            hasHeader: api-version
            headerEquals: api-version: 1.0.0
            contentType: application/json
            hasProperty: error
            notHasProperty: persons
            equals:
              error: validation/required-field
            matchesRegexp:
              description: ^Missing required field.*$
      - patch:
          url: "/recipients/persons/{{ persons_id_delete_others.id }}"
          description: "PATCH /recipients/persons/{id} - Invalid email format"
          headers:
            Token: {{$processEnvironment.AUTH_TOKEN}}
          payload:
            email: invalid_email
          expect:
            statusCode: 400
            hasHeader: api-version
            headerEquals: api-version: 1.0.0
            contentType: application/json
            hasProperty: error
            notHasProperty: persons
            equals:
              error: validation/email-pattern
            matchesRegexp:
              description: ^Email does not match the specified format.*$
      - put:
          url: "/recipients/persons/{{ persons_id_delete_others.id }}"
          description: "PUT /recipients/persons/{id} - Invalid phone number format"
          headers:
            Token: {{$processEnvironment.AUTH_TOKEN}}
          payload:
            phone: 0123456789
          expect:
            statusCode: 400
            hasHeader: api-version
            headerEquals: api-version: 1.0.0
            contentType: application/json
            hasProperty: error
            notHasProperty: persons
            equals:
              error: validation/phone-pattern
            matchesRegexp:
              description: ^Phone number does not match the specified format.*$
      - delete:
          url: "/recipients/persons/{{ persons_id_delete_others.id }}"
          description: "DELETE /recipients/persons/{id} - Invalid Person ID"
          headers:
            Token: {{$processEnvironment.AUTH_TOKEN}}
          expect:
            statusCode: 400
            hasHeader: api-version
            headerEquals: api-version: 1.0.0
            contentType: application/json
            hasProperty: error
            notHasProperty: persons
            equals:
              error: validation/uuid-pattern
            matchesRegexp:
              description: ^UUID does not match the specified format.*$
      - get:
          url: "/recipients/persons/invalid/uuid"
          description: "GET /recipients/persons/{id} - Invalid URL"
          expect:
            statusCode: 404
            hasHeader: api-version
            headerEquals: api-version: 1.0.0
            contentType: application/json
            hasProperty: error
            notHasProperty: persons
            equals:
              error: not_found/resource-not-found
            matchesRegexp:
              description: ^Resource not found.*$
      - think: 500
