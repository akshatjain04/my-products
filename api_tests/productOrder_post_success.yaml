# ********RoostGPT********

# Test generated by RoostGPT for test ProductOrdering-restAssured-API-Spec-test using AI Type Azure Open AI and AI Model roostgpt-4-32k
# 
# Test generated for /productOrder_post for http method type POST in artillery framework
# RoostTestHash=13e6a9adf7
# 
# 

# ********RoostGPT********
config:
  target: "${processEnvironment.API_HOST}"
  phases:
    - duration: 60
      arrivalRate: 2
  plugins:
    expect: {}
  payload:
    path: "productOrder_post_success.csv"
    fields: 
      - "correlationOrder"
      - "associatedDocument"
      - "associatedDocumentDate"
      - "type"
      - "infraType"
      - "custName"
      - "subscriberId"
      - "businessUnity"
      - "fantasyName"
      - "phoneNumber1"
      - "phoneNumber2"
      - "phoneNumber3"
      - "workContactName"
      - "workContactEmail"
      - "workContactPhone"
      - "hasSlot"
      - "date"
      - "mandatoryType"
      - "workOrderId"
      - "addressId"
      - "inventoryId"
      - "reference"
      - "complType"
      - "complValue"
      - "catalogId"
      - "action"
    skipHeader: true
    delimiter: "^|^"
scenarios:
  - name: "Success API Requests"
    flow:
      - log: "Creating order"
      - post:
          url: "/productOrder"
          headers:
            'x-api-key': '${processEnvironment.AUTH_TOKEN}'
            'Content-Type': 'application/json'
          json:
            order:
              correlationOrder: "{{ correlationOrder }}"
              associatedDocument: "{{ associatedDocument }}"
              associatedDocumentDate: "{{ associatedDocumentDate }}"
              type: "{{ type }}"
              infraType: "{{ infraType }}"
              customer:
                name: "{{ custName }}"
                subscriberId: "{{ subscriberId }}"
                businessUnity: "{{ businessUnity }}"
                fantasyName: "{{ fantasyName }}"
                phoneNumber:
                  phoneNumbers: 
                    - "{{ phoneNumber1 }}"
                    - "{{ phoneNumber2 }}"
                    - "{{ phoneNumber3 }}"
                workContact:
                  name: "{{ workContactName }}"
                  email: "{{ workContactEmail }}"
                  phone: "{{ workContactPhone }}"
              appointment:
                hasSlot: "{{ hasSlot }}"
                date: "{{ date }}"
                mandatoryType: "{{ mandatoryType }}"
                workOrderId: "{{ workOrderId }}"
              addresses:
                address:
                  id: "{{ addressId }}"
                  inventoryId: "{{ inventoryId }}"
                  reference: "{{ reference }}"
                  complement:
                    complements:
                      - 
                        type: "{{ complType }}"
                        value: "{{ complValue }}"
              products:
                product:
                  -
                    catalogId: "{{ catalogId }}"
                    action: "{{ action }}"
          expect:
            - statusCode: 201
            - hasProperty: "control"
            - hasProperty: "order.id"
            - equals: 
                - "{{ $response.body.control.message }}"
                - "Created"
      - think: 2
