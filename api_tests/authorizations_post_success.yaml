# Test generated by RoostGPT for test credential-wallet-api-akshat using AI Type Vertex AI and AI Model code-bison-32k


# Test generated for /authorizations_post for http method type POST in artillery framework

# RoostTestHash=ed8c1b7bff


config:
    target: {{ $processEnvironment.API_HOST }}
    expect:
        enabled: true
    payload:
        authorizations_post_success.csv:
            skipHeader: true
            fields:
                - email
variables:
    authorization_token: {{ $processEnvironment.AUTH_TOKEN }}
scenarios:
    - flow:
        - get:
            url: /authorizations
            expect:
                statusCode: 200
                contentType: application/json
                hasProperty:
                    - authorizations
        - think: 500
        - post:
            url: /authorizations
            authorization:
                type: ApiKeyAuth
                apiKey: {{ $authorization_token }}
                in: header
                name: Token
            headers:
                Content-Type: application/json
            body:
                email: ${authorizations_post_success.csv(email)}
            expect:
                statusCode: 201
                contentType: application/json
                hasProperty:
                    - id
                    - name
                    - email
                    - createdAt
                    - updatedAt
                notHasProperty:
                    - deletedAt
                hasHeader:
                    api-version: 1.0.0
                headerEquals:
                    location: /authorizations/{{ id }}
                jmespath:
                    - authorizations[?email=='${authorizations_post_success.csv(email)}']
                cdnHit: false
        - think: 500
