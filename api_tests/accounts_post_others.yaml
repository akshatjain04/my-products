# Test generated by RoostGPT for test credential-wallet-api-akshat using AI Type Vertex AI and AI Model code-bison-32k


# RoostTestHash=53e96f9805

---
title: Artillery Test Script - Non-Success API Responses
config:
  target: {{ $processEnvironment.API_HOST }}
  expect:
    enabled: true
payload:
  accounts_post_others:
    file: accounts_post_others.csv
    skipHeader: true
    fields:
      - email

scenarios:
  - scenario:
      - get:
          description: "GET accounts without authorization"
          url: "/accounts"
          expect:
            statusCode: 401
            hasHeader:
              - Token
      - think: 500
      - post:
          description: "POST accounts with invalid email"
          url: "/accounts"
          headers:
            ApiKeyAuth: {{$processEnvironment.AUTH_TOKEN}}
          payload:
            email: "invalid@example.com"
          expect:
            statusCode: 400
            hasHeader:
              - api-version
            contentType: application/json
            hasProperty:
              - error
              - description
      - think: 500
      - post:
          description: "POST accounts with missing email"
          url: "/accounts"
          headers:
            ApiKeyAuth: {{$processEnvironment.AUTH_TOKEN}}
          expect:
            statusCode: 400
            hasHeader:
              - api-version
            contentType: application/json
            hasProperty:
              - error
              - description
      - think: 500
      - post:
          description: "POST accounts with invalid commit-hash"
          url: "/accounts"
          headers:
            commit-hash: "invalid-hash"
            ApiKeyAuth: {{$processEnvironment.AUTH_TOKEN}}
          payload:
            email: "valid@example.com"
          expect:
            statusCode: 400
            hasHeader:
              - api-version
            contentType: application/json
            hasProperty:
              - error
              - description
      - think: 500
      - get:
          description: "GET accounts with invalid authorization"
          url: "/accounts"
          headers:
            ApiKeyAuth: "invalid-token"
          expect:
            statusCode: 401
            hasHeader:
              - Token
      - think: 500
      - get:
          description: "GET accounts with invalid URL"
          url: "/invalid-url"
          expect:
            statusCode: 404
            hasHeader:
              - Token
