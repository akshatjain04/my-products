# Test generated by RoostGPT for test MiniProjects using AI Type Open AI and AI Model gpt-4-1106-preview


config:
  target: "{{ROOST_SERVER_URL}}/api"
  phases:
    - duration: 60
      arrivalRate: 1
  defaults:
    headers:
      Content-Type: "application/json"

scenarios:
  - name: "Delete an existing product"
    flow:
      - comment: "Given there is an existing product with ID 1"
      # Assuming the existence of the product is already verified or set up in the system.

      - comment: "When the client sends a DELETE request to '/api/products/1'"
      - delete:
          url: "/products/1"
          capture:
            json: "$.message"
            as: "deleteMessage"

      - comment: "Then the response status code should be 200"
      - think: 1
      - assert:
          - property: "statusCode"
            comparator: "equal"
            expected: 200

      - comment: "And the product with ID 1 should no longer exist"
      - get:
          url: "/products/1"
      - assert:
          - property: "statusCode"
            comparator: "equal"
            expected: 404
          - property: "body.message"
            comparator: "equal"
            expected: "Product not found"
