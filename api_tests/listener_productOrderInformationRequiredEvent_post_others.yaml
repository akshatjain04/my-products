# ********RoostGPT********

# Test generated by RoostGPT for test ProductOrdering-restAssured-API-Spec-test using AI Type Azure Open AI and AI Model roostgpt-4-32k
# 
# Test generated for /listener/productOrderInformationRequiredEvent_post for http method type POST in artillery framework
# RoostTestHash=e74b642c2e
# 
# 

# ********RoostGPT********
config:
  target: "{{ $processEnvironment.API_HOST }}"
  plugins:
    expect: {}
  environments:
    authorization:
      security: "header"
      name: "Authorization"
      value: "Bearer {{$processEnvironment.AUTH_TOKEN}}"
  payload:
    path: "listener_productOrderInformationRequiredEvent_post_others.csv"
    fieldDelimiter: "^|^"
    skipHeader: true
    fields:
      - "date"
      - "subscriberId"
      - "id"
      - "correlationOrder"
      - "associatedDocument"
      - "code"
      - "description"
      - "type"
      - "observation"
      - "updateDate"
      - "action"
      - "task"
      - "fieldActivity"
      - "reason"
  scenarios:
    - name: "Test for Non-Successful API responses"
      flow:
        - log: "Performing a POST Request with invalid payload"
        - post:
            url: "/listener/productOrderInformationRequiredEvent"
            headers:
              Authorization: "Bearer {{$processEnvironment.AUTH_TOKEN}}"
            json:
              notification:
                date: "{{ date }}"
                customer:
                  subscriberId: "{{ subscriberId }}"
            expect:
              - statusCode: 400
              - hasProperty: ['error', 'message']
              - equals: [{'error.message': 'Invalid data'}]
        - think: 1
        
        - log: "Testing for Unauthorized API request"
        - post: 
            url: "/listener/productOrderInformationRequiredEvent"
            headers:
              Authorization: "Bearer wrong_token"
            json: {}
            expect: 
              - statusCode: 401
        - think: 1

        - log: "Testing invalid URL case"
        - post:
            url: "/invalid/url"
            headers:
              Authorization: "Bearer {{$processEnvironment.AUTH_TOKEN}}"
            json: {}
            expect:
              - statusCode: 404
        - think: 1
