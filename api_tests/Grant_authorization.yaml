# Test generated by RoostGPT for test MiniProjects using AI Type Vertex AI and AI Model code-bison-32k


# scenario - Grant authorization

config:
  target: "{{ $processEnvironment.API_HOST }}/authorizations"
  expect:
    status: 200

scenarios:
  # scenario - Given an existing account, create another account
  - flow:
      - get:
          url: "{{ $processEnvironment.API_HOST }}/accounts"
          headers:
            Authorization: Bearer {{ $processEnvironment.AUTH_TOKEN }}
          expect:
            statusCode: 200
      - post:
          url: "{{ $processEnvironment.API_HOST }}/accounts"
          headers:
            Authorization: Bearer {{ $processEnvironment.AUTH_TOKEN }}
          expect:
            statusCode: 200

  # scenario - When the client sends a POST request to "/authorizations"
  - flow:
      - post:
          url: "{{ $processEnvironment.API_HOST }}/authorizations"
          headers:
            Authorization: Bearer {{ $processEnvironment.AUTH_TOKEN }}
          expect:
            statusCode: 200

  # scenario - Then grant access to your account and confirm access via GET request to "/authorizations"
  - flow:
      - get:
          url: "{{ $processEnvironment.API_HOST }}/authorizations"
          headers:
            Authorization: Bearer {{ $processEnvironment.AUTH_TOKEN }}
          expect:
            statusCode: 200
