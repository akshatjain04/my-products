# Test generated by RoostGPT for test credential-wallet-api-akshat using AI Type Vertex AI and AI Model code-bison-32k


# RoostTestHash=16a6858a84

config:
  target: {{ $processEnvironment.API_HOST }}
  expect: true
  payload:
    - registrations_post_others.csv
skipHeader: true
scenarios:
  - scenario: Non-Success API Responses
    flow:
      - get:
          url: /recipients/branches/{{ recipientBranchId }}/registrations
          log: "GET /recipients/branches/{id}/registrations"
          expect:
            - statusCode: 404
      - post:
          url: /recipients/branches/{{ recipientBranchId }}/registrations
          log: "POST /recipients/branches/{id}/registrations - Missing credentialUrl"
          expect:
            - statusCode: 400
            - hasProperty:
                - error
                - description
            - contentType: application/json
      - post:
          url: /recipients/branches/{{ recipientBranchId }}/registrations
          log: "POST /recipients/branches/{id}/registrations - Empty credentialUrl"
          headers:
            Token: {{ $processEnvironment.AUTH_TOKEN }}
          payload:
            credentialUrl: ""
          expect:
            - statusCode: 400
            - hasProperty:
                - error
                - description
            - contentType: application/json
      - post:
          url: /recipients/branches/{{ recipientBranchId }}/registrations
          log: "POST /recipients/branches/{id}/registrations - Invalid credentialUrl"
          headers:
            Token: {{ $processEnvironment.AUTH_TOKEN }}
          payload:
            credentialUrl: "invalid-url"
          expect:
            - statusCode: 400
            - hasProperty:
                - error
                - description
            - contentType: application/json
      - post:
          url: /recipients/branches/{{ recipientBranchId }}/registrations
          log: "POST /recipients/branches/{id}/registrations - Invalid startDate"
          headers:
            Token: {{ $processEnvironment.AUTH_TOKEN }}
          payload:
            credentialUrl: "https://example.com"
            startDate: "invalid-date"
          expect:
            - statusCode: 400
            - hasProperty:
                - error
                - description
            - contentType: application/json
      - post:
          url: /recipients/branches/{{ recipientBranchId }}/registrations
          log: "POST /recipients/branches/{id}/registrations - startDate before today"
          headers:
            Token: {{ $processEnvironment.AUTH_TOKEN }}
          payload:
            credentialUrl: "https://example.com"
            startDate: "{{ date('Y-m-d', strtotime('-1 day')) }}"
          expect:
            - statusCode: 400
            - hasProperty:
                - error
                - description
            - contentType: application/json
      - post:
          url: /recipients/branches/{{ recipientBranchId }}/registrations
          log: "POST /recipients/branches/{id}/registrations - Missing startDate"
          headers:
            Token: {{ $processEnvironment.AUTH_TOKEN }}
          payload:
            credentialUrl: "https://example.com"
          expect:
            - statusCode: 400
            - hasProperty:
                - error
                - description
            - contentType: application/json
      - post:
          url: /recipients/branches/{{ recipientBranchId }}/registrations
          log: "POST /recipients/branches/{id}/registrations - Missing credentialUrl and startDate"
          headers:
            Token: {{ $processEnvironment.AUTH_TOKEN }}
          payload: {}
          expect:
            - statusCode: 400
            - hasProperty:
                - error
                - description
            - contentType: application/json
      - think: 500
