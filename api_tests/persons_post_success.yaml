# Test generated by RoostGPT for test credential-wallet-api-akshat using AI Type Vertex AI and AI Model code-bison-32k


# Test generated for /recipients/persons_post for http method type POST in artillery framework

# RoostTestHash=b4614c0581


config:
  target: {{ $processEnvironment.API_HOST }}
  expect:
    enabled: true
  security:
    ApiKeyAuth:
      type: apiKey
      name: Token
      in: header
      value: {{$processEnvironment.AUTH_TOKEN}}
  payload:
    csv: persons_post_success.csv
    skipHeader: true

scenarios:
  - flow:
      - get:
          url: /recipients/persons
          expect:
            statusCode: 200
            contentType: application/json
            hasHeader: api-version
            hasHeader: location
            hasProperty: id
            hasProperty: initials
            hasProperty: lastName
            hasProperty: birthDate
            hasProperty: birthPlace
            hasProperty: phone
            hasProperty: email
            hasProperty: postalCode
            hasProperty: houseNumber
            hasProperty: houseNumberPostfix
            hasProperty: countryCode
            hasProperty: reference
            hasProperty: createdAt
            hasProperty: updatedAt
            cdnHit: false
      - think: 1000
      - post:
          url: /recipients/persons
          headers:
            Content-Type: application/json
          payload:
            - id: {{$csvData.id}}
            - initials: {{$csvData.initials}}
            - firstName: {{$csvData.firstName}}
            - middleName: {{$csvData.middleName}}
            - lastName: {{$csvData.lastName}}
            - birthDate: {{$csvData.birthDate}}
            - birthPlace: {{$csvData.birthPlace}}
            - phone: {{$csvData.phone}}
            - email: {{$csvData.email}}
            - postalCode: {{$csvData.postalCode}}
            - houseNumber: {{$csvData.houseNumber}}
            - houseNumberPostfix: {{$csvData.houseNumberPostfix}}
            - countryCode: {{$csvData.countryCode}}
            - reference: {{$csvData.reference}}
          expect:
            statusCode: 201
            contentType: application/json
            hasHeader: api-version
            hasHeader: location
            hasProperty: id
            hasProperty: initials
            hasProperty: lastName
            hasProperty: birthDate
            hasProperty: birthPlace
            hasProperty: phone
            hasProperty: email
            hasProperty: postalCode
            hasProperty: houseNumber
            hasProperty: houseNumberPostfix
            hasProperty: countryCode
            hasProperty: reference
            hasProperty: createdAt
            hasProperty: updatedAt
            cdnHit: false
      - think: 1000
      - patch:
          url: /recipients/persons/{{$csvData.id}}
          headers:
            Content-Type: application/json
          payload:
            - id: {{$csvData.id}}
            - initials: {{$csvData.initials}}
            - firstName: {{$csvData.firstName}}
            - middleName: {{$csvData.middleName}}
            - lastName: {{$csvData.lastName}}
            - birthDate: {{$csvData.birthDate}}
            - birthPlace: {{$csvData.birthPlace}}
            - phone: {{$csvData.phone}}
            - email: {{$csvData.email}}
            - postalCode: {{$csvData.postalCode}}
            - houseNumber: {{$csvData.houseNumber}}
            - houseNumberPostfix: {{$csvData.houseNumberPostfix}}
            - countryCode: {{$csvData.countryCode}}
            - reference: {{$csvData.reference}}
          expect:
            statusCode: 200
            contentType: application/json
            hasHeader: api-version
            hasHeader: location
            hasProperty: id
            hasProperty: initials
            hasProperty: lastName
            hasProperty: birthDate
            hasProperty: birthPlace
            hasProperty: phone
            hasProperty: email
            hasProperty: postalCode
            hasProperty: houseNumber
            hasProperty: houseNumberPostfix
            hasProperty: countryCode
            hasProperty: reference
            hasProperty: createdAt
            hasProperty: updatedAt
            cdnHit: false
      - think: 1000
      - delete:
          url: /recipients/persons/{{$csvData.id}}
          expect:
            statusCode: 204
            contentType: application/json
            hasProperty: id
            hasProperty: initials
            hasProperty: lastName
            hasProperty: birthDate
            hasProperty: birthPlace
            hasProperty: phone
            hasProperty: email
            hasProperty: postalCode
            hasProperty: houseNumber
            hasProperty: houseNumberPostfix
            hasProperty: countryCode
            hasProperty: reference
            hasProperty: createdAt
            hasProperty: updatedAt
            cdnHit: false
