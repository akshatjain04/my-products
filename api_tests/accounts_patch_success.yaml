# Test generated by RoostGPT for test credential-wallet-api-akshat using AI Type Vertex AI and AI Model code-bison-32k


# Test generated for /accounts_patch for http method type PATCH in artillery framework

# RoostTestHash=2758affb7e


config:
  target: {{ $processEnvironment.API_HOST }}
  plugins:
    - expect

scenarios:
  Login:
    flow:
      - log: Logging in
      - post:
          url: "/accounts/login"
          payload:
            email: {{ email }}
          headers:
            ApiKeyAuth: {{$processEnvironment.AUTH_TOKEN}}
      - think: 5000 # 5 seconds
      - log: Checking OTP
      - get:
          url: "/accounts/check-otp?otp={{ otp }}"
          headers:
            ApiKeyAuth: {{$processEnvironment.AUTH_TOKEN}}
      - think: 5000 # 5 seconds
      - log: Getting user details
      - get:
          url: "/accounts/me"
          headers:
            ApiKeyAuth: {{$processEnvironment.AUTH_TOKEN}}
      - think: 5000 # 5 seconds
      - log: Updating account details
      - patch:
          url: "/accounts/me"
          payload:
            name: {{ name }}
          headers:
            ApiKeyAuth: {{$processEnvironment.AUTH_TOKEN}}
      - think: 5000 # 5 seconds
      - log: Logging out
      - delete:
          url: "/accounts/logout"
          headers:
            ApiKeyAuth: {{$processEnvironment.AUTH_TOKEN}}
      - think: 5000 # 5 seconds

payload:
  accounts_patch_success.csv:
    skipHeader: true
    fields:
      - name
