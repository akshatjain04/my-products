# ********RoostGPT********

# Test generated by RoostGPT for test MiniProjects using AI Type Azure Open AI and AI Model roostgpt-4-32k
# 
# Test generated for /credentials/{id}_delete for http method type DELETE in artillery framework
# RoostTestHash=f1fc1d06f7
# 
# 

# ********RoostGPT********
config:
  target: "{{ $processEnvironment.url1_credentialregister-wallet-1.0.0-resolved_API_HOST }}"
  plugins:
    expect: {}
  payload:
    path: "credentials_id_delete_others.csv"
    fields: ["id"]
    delimeter: "^|^"
    skipHeader: true

scenarios:
  - name: Test non-successful API responses
    flow:
      - log: 'Testing incorrect ID'
      - delete:
          url: "{{ $processEnvironment.url1_credentialregister-wallet-1.0.0-resolved_API_HOST }}/credentials/ABC"
          auth: { 
            type: "apikey",
            key: 'Authorization',
            value: "Bearer {{$processEnvironment.url1_credentialregister-wallet-1.0.0-resolved_AUTH_TOKEN}}"
          }
      - expect:
          - statusCode: 404
      - think: 1
          
      - log: 'Testing unauthorized access'
      - delete:
          url: "{{ $processEnvironment.url1_credentialregister-wallet-1.0.0-resolved_API_HOST }}/credentials/ABC"
          headers:
            ApiKeyAuth: 'InvalidKey'
      - expect:
          - statusCode: 403
      - think: 1
          
      - log: 'Testing incorrect URL'
      - delete:
          url: "{{ $processEnvironment.url1_credentialregister-wallet-1.0.0-resolved_API_HOST }}/incorrect/url"
          auth: { 
            type: "apikey",
            key: 'Authorization',
            value: "Bearer {{$processEnvironment.url1_credentialregister-wallet-1.0.0-resolved_AUTH_TOKEN}}"
          }
      - expect:
          - statusCode: 404
      - think: 1

      - log: 'Testing no data'
      - delete:
          url: "{{ $processEnvironment.url1_credentialregister-wallet-1.0.0-resolved_API_HOST }}/credentials/null"
          auth: { 
            type: "apikey",
            key: 'Authorization',
            value: "Bearer {{$processEnvironment.url1_credentialregister-wallet-1.0.0-resolved_AUTH_TOKEN}}"
          }
      - expect:
          - statusCode: 400
      - think: 1
