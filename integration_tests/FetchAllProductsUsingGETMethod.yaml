# ********RoostGPT********

# Test generated by RoostGPT for test MiniProjects using AI Type Azure Open AI and AI Model roostgpt-4-32k
# 
# ROOST_METHOD_HASH=ea8b4eaed5
# ROOST_METHOD_SIG_HASH=597164aa45
# 
#    ########## Scenario ##########  
# 
# {
#   feature: 'Feature: Integration Tests for ProductController API',
#   background: null,
#   rule: null,
#   scenario: {
#     title: 'Scenario: Fetch all products using GET method',
#     steps: "Given the API base URL 'http://localhost:8080'\n" +
#       "When I send a GET request to '/products'\n" +
#       'Then the response status should be 200\n' +
#       'And the response should contain a list of products',
#     examples: ''
#   }
# }
# 

# ********RoostGPT********
config:
  target: "{{ $processEnvironment.API_HOST }}"
  plugins:
    expect: {}

payload:
  path: FetchAllProductsUsingGETMethod.csv
  delimiter: "^|^"
  fields:
    - product_id
    - auth_token

scenarios:
  - scenario: Fetch all products using GET method
    flow:
      - log: Sending a GET request to /products to fetch all products
      - get:
          url: "/products"
          headers:
            Authorization: "{{ $processEnvironment.AUTH_TOKEN }}"
            name: "{{ auth_token }}"
      - expect:
          statusCode: 200
      - expect:
          headers:
            hasProperty: "Content-Type"
      - expect:
          headers:
            headerEquals: 
              Content-Type: "application/json"
      - expect:
          body:
            hasProperty: "products"
      - expect:
          body:
            jmespath: "products | type(@) == 'array'"
      - expect:
          body:
            hasProperty: "products[0].id"
      - expect:
          body:
            hasProperty: "products[0].name"
      - expect:
          body:
            hasProperty: "products[0].price"
      - think: 2
