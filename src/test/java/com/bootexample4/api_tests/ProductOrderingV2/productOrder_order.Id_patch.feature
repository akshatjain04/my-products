# ********RoostGPT********

# Test generated by RoostGPT for test test-karate-with-BR using AI Type Azure Open AI and AI Model Inference
# 
# Feature file generated for /productOrder/{order.Id}_patch for http method type PATCH 
# RoostTestHash=7064db992f
# 
# 

# ********RoostGPT********
Feature: Patch Product Order By Id

  Background:
    * def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http://localhost:4010')
    * url urlBase

  Scenario Outline: Patch Product Order By Id - Success
    Given path '/productOrder/<orderId>'
    And request
      """
      {
        "order": <order>
      }
      """
    And header Authorization = 'Bearer ' + karate.properties['AUTH_TOKEN']
    When method patch
    Then status 200
    And match response.type == 'S'
    And match response.code == '200'
    And match response.message == 'OK'

    Examples:
      | read('productOrder_order.Id_patch.csv') |

  Scenario Outline: Patch Product Order By Id - Bad Request
    Given path '/productOrder/<orderId>'
    And request
      """
      {
        "order": <order>
      }
      """
    And header Authorization = 'Bearer ' + karate.properties['AUTH_TOKEN']
    When method patch
    Then status 400
    And match response.type == 'E'
    And match response.code == '400'
    And match response.message contains 'Bad Request'

    Examples:
      | orderId        | order                             |
      | 20230315000001 | {"correlationOrder":""}           |
      | 20230315000001 | {"associatedDocument":""}         |
      | 20230315000001 | {"appointment":{"hasSlot":false}} |
      | 20230315000001 | {"issue":{"code":""}}             |

  Scenario Outline: Patch Product Order By Id - Unauthorized
    Given path '/productOrder/<orderId>'
    And request
      """
      {
        "order": <order>
      }
      """
    And header Authorization = 'Bearer '
    When method patch
    Then status 401
    And match response.type == 'E'
    And match response.code == '401'
    And match response.message == 'Unauthorized'

    Examples:
      | orderId        | order                                                                                                                                                                                                                                                                                                |
      | 20230315000001 | {"correlationOrder":"10","associatedDocument":"VTT001","appointment":{"hasSlot":true,"date":"2021-06-07T12:47:00","mandatoryType":"Permitido","workOrderId":""},"issue":{"code":"7029","observation":"Resolução de pendência de agendamento","updateDate":"2021-12-09T15:20:00","action":"fechar"}}  |
      | 20230315000001 | {"correlationOrder":"10","associatedDocument":"VTT001","appointment":{"hasSlot":true,"date":"2021-06-07T12:47:00","mandatoryType":"Permitido","workOrderId":""},"issue":{"code":"7016","observation":"Reagendamento por ausência","updateDate":"2021-12-09T15:20:00","action":"fechar"}}             |
      | 20230315000001 | {"correlationOrder":"10","associatedDocument":"VTT001","issue":{"code":"7100","observation":"Resolução de pendência de contato de obra","updateDate":"2021-12-09T15:20:00","action":"fechar"},"customer":{"workContact":{"name":"síndico Vtal","email":"sindicovtal@vtal.com","phone":21999900000}}} |

  Scenario Outline: Patch Product Order By Id - Forbidden
    Given path '/productOrder/<orderId>'
    And request
      """
      {
        "order": <order>
      }
      """
    And header Authorization = 'Bearer ' + karate.properties['AUTH_TOKEN']
    When method patch
    Then status 403
    And match response.type == 'E'
    And match response.code == '403'
    And match response.message contains 'Forbidden'

    Examples:
      | orderId        | order                                                                                                                                                                                                                                                                                                |
      | 20230315000001 | {"correlationOrder":"10","associatedDocument":"VTT001","appointment":{"hasSlot":true,"date":"2021-06-07T12:47:00","mandatoryType":"Permitido","workOrderId":""},"issue":{"code":"7029","observation":"Resolução de pendência de agendamento","updateDate":"2021-12-09T15:20:00","action":"fechar"}}  |
      | 20230315000001 | {"correlationOrder":"10","associatedDocument":"VTT001","appointment":{"hasSlot":true,"date":"2021-06-07T12:47:00","mandatoryType":"Permitido","workOrderId":""},"issue":{"code":"7016","observation":"Reagendamento por ausência","updateDate":"2021-12-09T15:20:00","action":"fechar"}}             |
      | 20230315000001 | {"correlationOrder":"10","associatedDocument":"VTT001","issue":{"code":"7100","observation":"Resolução de pendência de contato de obra","updateDate":"2021-12-09T15:20:00","action":"fechar"},"customer":{"workContact":{"name":"síndico Vtal","email":"sindicovtal@vtal.com","phone":21999900000}}} |

  Scenario Outline: Patch Product Order By Id - Not Found
    Given path '/productOrder/<orderId>'
    And request
      """
      {
        "order": <order>
      }
      """
    And header Authorization = 'Bearer ' + karate.properties['AUTH_TOKEN']
    When method patch
    Then status 404
    And match response.type == 'E'
    And match response.code == '404'
    And match response.message == 'Not Found'

    Examples:
      | orderId | order                                                                                                                                                                                                                                                                                                |
      |       0 | {"correlationOrder":"10","associatedDocument":"VTT001","appointment":{"hasSlot":true,"date":"2021-06-07T12:47:00","mandatoryType":"Permitido","workOrderId":""},"issue":{"code":"7029","observation":"Resolução de pendência de agendamento","updateDate":"2021-12-09T15:20:00","action":"fechar"}}  |
      |       0 | {"correlationOrder":"10","associatedDocument":"VTT001","appointment":{"hasSlot":true,"date":"2021-06-07T12:47:00","mandatoryType":"Permitido","workOrderId":""},"issue":{"code":"7016","observation":"Reagendamento por ausência","updateDate":"2021-12-09T15:20:00","action":"fechar"}}             |
      |       0 | {"correlationOrder":"10","associatedDocument":"VTT001","issue":{"code":"7100","observation":"Resolução de pendência de contato de obra","updateDate":"2021-12-09T15:20:00","action":"fechar"},"customer":{"workContact":{"name":"síndico Vtal","email":"sindicovtal@vtal.com","phone":21999900000}}} |

  Scenario Outline: Patch Product Order By Id - Not Acceptable
    Given path '/productOrder/<orderId>'
    And request
      """
      {
        "order": <order>
      }
      """
    And header Authorization = 'Bearer ' + karate.properties['AUTH_TOKEN']
    When method patch
    Then status 406
    And match response.type == 'E'
    And match response.code == '406'
    And match response.message contains 'Not Acceptable'

    Examples:
      | orderId        | order                                                                                                                                                                                                                                                                                                |
      | 20230315000001 | {"correlationOrder":"10","associatedDocument":"VTT001","appointment":{"hasSlot":true,"date":"2021-06-07T12:47:00","mandatoryType":"Permitido","workOrderId":""},"issue":{"code":"7029","observation":"Resolução de pendência de agendamento","updateDate":"2021-12-09T15:20:00","action":"fechar"}}  |
      | 20230315000001 | {"correlationOrder":"10","associatedDocument":"VTT001","appointment":{"hasSlot":true,"date":"2021-06-07T12:47:00","mandatoryType":"Permitido","workOrderId":""},"issue":{"code":"7016","observation":"Reagendamento por ausência","updateDate":"2021-12-09T15:20:00","action":"fechar"}}             |
      | 20230315000001 | {"correlationOrder":"10","associatedDocument":"VTT001","issue":{"code":"7100","observation":"Resolução de pendência de contato de obra","updateDate":"2021-12-09T15:20:00","action":"fechar"},"customer":{"workContact":{"name":"síndico Vtal","email":"sindicovtal@vtal.com","phone":21999900000}}} |

  Scenario Outline: Patch Product Order By Id - Too Many Requests
    Given path '/productOrder/<orderId>'
    And request
      """
      {
        "order": <order>
      }
      """
    And header Authorization = 'Bearer ' + karate.properties['AUTH_TOKEN']
    When method patch
    Then status 429
    And match response.type == 'E'
    And match response.code == '429'
    And match response.message == 'Too Many Requests - Exceeded Quota'

    Examples:
      | orderId        | order                                                                                                                                                                                                                                                                                                |
      | 20230315000001 | {"correlationOrder":"10","associatedDocument":"VTT001","appointment":{"hasSlot":true,"date":"2021-06-07T12:47:00","mandatoryType":"Permitido","workOrderId":""},"issue":{"code":"7029","observation":"Resolução de pendência de agendamento","updateDate":"2021-12-09T15:20:00","action":"fechar"}}  |
      | 20230315000001 | {"correlationOrder":"10","associatedDocument":"VTT001","appointment":{"hasSlot":true,"date":"2021-06-07T12:47:00","mandatoryType":"Permitido","workOrderId":""},"issue":{"code":"7016","observation":"Reagendamento por ausência","updateDate":"2021-12-09T15:20:00","action":"fechar"}}             |
      | 20230315000001 | {"correlationOrder":"10","associatedDocument":"VTT001","issue":{"code":"7100","observation":"Resolução de pendência de contato de obra","updateDate":"2021-12-09T15:20:00","action":"fechar"},"customer":{"workContact":{"name":"síndico Vtal","email":"sindicovtal@vtal.com","phone":21999900000}}} |

  Scenario Outline: Patch Product Order By Id - Internal Server Error
    Given path '/productOrder/<orderId>'
    And request
      """
      {
        "order": <order>
      }
      """
    And header Authorization = 'Bearer ' + karate.properties['AUTH_TOKEN']
    When method patch
    Then status 500
    And match response.type == 'T'
    And match response.code == '500'
    And match response.message == 'Internal Server Error'

    Examples:
      | orderId        | order                                                                                                                                                                                                                                                                                                |
      | 20230315000001 | {"correlationOrder":"10","associatedDocument":"VTT001","appointment":{"hasSlot":true,"date":"2021-06-07T12:47:00","mandatoryType":"Permitido","workOrderId":""},"issue":{"code":"7029","observation":"Resolução de pendência de agendamento","updateDate":"2021-12-09T15:20:00","action":"fechar"}}  |
      | 20230315000001 | {"correlationOrder":"10","associatedDocument":"VTT001","appointment":{"hasSlot":true,"date":"2021-06-07T12:47:00","mandatoryType":"Permitido","workOrderId":""},"issue":{"code":"7016","observation":"Reagendamento por ausência","updateDate":"2021-12-09T15:20:00","action":"fechar"}}             |
      | 20230315000001 | {"correlationOrder":"10","associatedDocument":"VTT001","issue":{"code":"7100","observation":"Resolução de pendência de contato de obra","updateDate":"2021-12-09T15:20:00","action":"fechar"},"customer":{"workContact":{"name":"síndico Vtal","email":"sindicovtal@vtal.com","phone":21999900000}}} |

  Scenario Outline: Patch Product Order By Id - Service Unavailable
    Given path '/productOrder/<orderId>'
    And request
      """
      {
        "order": <order>
      }
      """
    And header Authorization = 'Bearer ' + karate.properties['AUTH_TOKEN']
    When method patch
    Then status 503
    And match response.type == 'T'
    And match response.code == '503'
    And match response.message == 'Service Unavailable'

    Examples:
      | orderId        | order                                                                                                                                                                                                                                                                                                |
      | 20230315000001 | {"correlationOrder":"10","associatedDocument":"VTT001","appointment":{"hasSlot":true,"date":"2021-06-07T12:47:00","mandatoryType":"Permitido","workOrderId":""},"issue":{"code":"7029","observation":"Resolução de pendência de agendamento","updateDate":"2021-12-09T15:20:00","action":"fechar"}}  |
      | 20230315000001 | {"correlationOrder":"10","associatedDocument":"VTT001","appointment":{"hasSlot":true,"date":"2021-06-07T12:47:00","mandatoryType":"Permitido","workOrderId":""},"issue":{"code":"7016","observation":"Reagendamento por ausência","updateDate":"2021-12-09T15:20:00","action":"fechar"}}             |
      | 20230315000001 | {"correlationOrder":"10","associatedDocument":"VTT001","issue":{"code":"7100","observation":"Resolução de pendência de contato de obra","updateDate":"2021-12-09T15:20:00","action":"fechar"},"customer":{"workContact":{"name":"síndico Vtal","email":"sindicovtal@vtal.com","phone":21999900000}}} |

  Scenario Outline: Patch Product Order By Id - Gateway Timeout
    Given path '/productOrder/<orderId>'
    And request
      """
      {
        "order": <order>
      }
      """
    And header Authorization = 'Bearer ' + karate.properties['AUTH_TOKEN']
    When method patch
    Then status 504
    And match response.type == 'T'
    And match response.code == '504'
    And match response.message == 'Gateway Timeout'

    Examples:
      | orderId        | order                                                                                                                                                                                                                                                                                                |
      | 20230315000001 | {"correlationOrder":"10","associatedDocument":"VTT001","appointment":{"hasSlot":true,"date":"2021-06-07T12:47:00","mandatoryType":"Permitido","workOrderId":""},"issue":{"code":"7029","observation":"Resolução de pendência de agendamento","updateDate":"2021-12-09T15:20:00","action":"fechar"}}  |
      | 20230315000001 | {"correlationOrder":"10","associatedDocument":"VTT001","appointment":{"hasSlot":true,"date":"2021-06-07T12:47:00","mandatoryType":"Permitido","workOrderId":""},"issue":{"code":"7016","observation":"Reagendamento por ausência","updateDate":"2021-12-09T15:20:00","action":"fechar"}}             |
      | 20230315000001 | {"correlationOrder":"10","associatedDocument":"VTT001","issue":{"code":"7100","observation":"Resolução de pendência de contato de obra","updateDate":"2021-12-09T15:20:00","action":"fechar"},"customer":{"workContact":{"name":"síndico Vtal","email":"sindicovtal@vtal.com","phone":21999900000}}} |
