# ********RoostGPT********

# Test generated by RoostGPT for test MiniProjects using AI Type Azure Open AI and AI Model roostgpt-4-32k
# 
# Feature file generated for /credentials/{id}_get for http method type GET 
# RoostTestHash=018c225aea
# 
# 

# ********RoostGPT********
Feature: Credentials API Test

  Background:
    * def urlBase = karate.properties['url.base'] || 'http://localhost:4010'
    * url urlBase
    * configure headers = { Authorization: '#(karate.properties['AUTH_TOKEN'])' }

  Scenario Outline: Get credentials
    Given path 'credentials', '<id>'
    When method GET
    Then status 200
    And match responseHeaders contains {'api-version': '#string'}
    And match response ==
      """
      {
        createdAt: '#(assertion)',
        credential: '#(assertion)',
        format: '#(assertion)',
        id: '#uuid',
        status: '#(assertion)',
        statusUpdatedAt: '#(assertion)'
      }
      """
    * assert response['api-version'] == '1.0.0'

    Examples:
      | read('credentials_id_get.csv') |

  Scenario Outline: Get credentials - Error scenarios
    Given path 'credentials', '123'
    When method GET
    Then status <statusCode>
    And match responseHeaders contains {'api-version': '#string'}

    Examples:
      | statusCode |
      |        400 |
      |        401 |

  Scenario Outline: Validate error response structure
    Given path 'credentials', '123'
    When method GET
    Then status <statusCode>
    And match response ==
      """
      {
        error: '#(assertion)',
        description: '#string'
      }
      """

    Examples:
      | statusCode | assertion                  |
      |        400 | 'error/code'               |
      |        401 | 'validation/email-pattern' |
