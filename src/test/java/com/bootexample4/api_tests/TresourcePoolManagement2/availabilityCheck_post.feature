# ********RoostGPT********

# Test generated by RoostGPT for test MiniProjects using AI Type Azure Open AI and AI Model roostgpt-4-32k
# 
# Feature file generated for /availabilityCheck_post for http method type POST 
# RoostTestHash=2445a4c161
# 
# 

# ********RoostGPT********
Feature: Availability Check

  Background:
    * def urlBase = karate.properties['url1_tresourcePoolManagement_(2)_URL_BASE'] || karate.get('urlBase', 'http://localhost:4010')
    * url urlBase
    * configure headers = { Authorization: #(karate.properties['url1_tresourcePoolManagement_(2)_AUTH_TOKEN']) }

  Scenario Outline: Successful Check Availability
    Given path '/availabilityCheck'
    And request <requestBody>
    When method post
    Then status 200
    And match response with control, resource and inventory details
    And verify product details in resource

    Examples:
      | read('availabilityCheck_post.csv') |

  Scenario Outline: Unsuccessful Check Availability for various response codes
    Given path '/availabilityCheck'
    And request <requestBody>
    When method post
    Then status <statusCode>
    And match response with control details

    Examples:
      | requestBody                                                                                                                         | statusCode |
      | { customer: { subscriberId: 'INVALID' }, address: { id: 14393, complement: { complements: [ { type: 'ES', value: 'ARC201' } ] } } } |        400 |
      | { customer: { subscriberId: '' }, address: { id: 14393, complement: { complements: [ { type: 'ES', value: 'ARC201' } ] } } }        |        401 |
      | { customer: { subscriberId: 'SVTL001' }, address: { id: '', complement: { complements: [ { type: 'ES', value: 'ARC201' } ] } } }    |        403 |
      | { customer: { subscriberId: 'SVTL001' }, address: { id: 99999, complement: { complements: [ { type: 'ES', value: 'ARC201' } ] } } } |        404 |
      | { customer: { subscriberId: 'SVTL001' }, address: { id: 98765, complement: { complements: [ { type: 'ES', value: 'ARC201' } ] } } } |        500 |
      | { customer: { subscriberId: 'SVTL001' }, address: { id: 12345, complement: { complements: [ { type: 'ES', value: 'ARC201' } ] } } } |        503 |
      | { customer: { subscriberId: 'SVTL001' }, address: { id: 67890, complement: { complements: [ { type: 'ES', value: 'ARC201' } ] } } } |        504 |
